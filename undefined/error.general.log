7/19/2023, 7:04:53 PM | ERROR | errordate{"status":500,"message":"TransactionAccount is not defined","error":{"statusCode":500},"stack":"ReferenceError: TransactionAccount is not defined\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:220:41\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 7:48:40 PM | ERROR | errordate{"status":500,"message":"Unknown column 'totalPrice' in 'field list'","error":{"name":"SequelizeDatabaseError","parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'totalPrice' in 'field list'","sql":"SELECT sum(`paymentAmount`) AS `paymentAmount`, sum(`balanceDue`) AS `balanceDue`, sum(`totalPrice`) AS `totalPrice` FROM `transactions` AS `transaction` WHERE `transaction`.`company_id` = 1 AND `transaction`.`createdAt` BETWEEN '2023-06-30 20:00:00' AND '2023-07-20 23:59:59';"},"original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'totalPrice' in 'field list'","sql":"SELECT sum(`paymentAmount`) AS `paymentAmount`, sum(`balanceDue`) AS `balanceDue`, sum(`totalPrice`) AS `totalPrice` FROM `transactions` AS `transaction` WHERE `transaction`.`company_id` = 1 AND `transaction`.`createdAt` BETWEEN '2023-06-30 20:00:00' AND '2023-07-20 23:59:59';"},"sql":"SELECT sum(`paymentAmount`) AS `paymentAmount`, sum(`balanceDue`) AS `balanceDue`, sum(`totalPrice`) AS `totalPrice` FROM `transactions` AS `transaction` WHERE `transaction`.`company_id` = 1 AND `transaction`.`createdAt` BETWEEN '2023-06-30 20:00:00' AND '2023-07-20 23:59:59';","statusCode":500},"stack":"SequelizeDatabaseError: Unknown column 'totalPrice' in 'field list'\n    at Query.formatError (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:265:16)\n    at Query.run (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:77:18)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\sequelize.js:619:16\n    at async MySQLQueryInterface.select (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:953:12)\n    at async Function.findAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1753:21)\n    at async Promise.all (index 1)\n    at async Function.findAndCountAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:2085:27)\n    at async D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:200:30"} |
7/19/2023, 7:55:02 PM | ERROR | errordate{"status":500,"message":"transactionsInfo.reduce is not a function","error":{"statusCode":500},"stack":"TypeError: transactionsInfo.reduce is not a function\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:216:40\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 7:56:41 PM | ERROR | errordate{"status":500,"message":"transactionsInfo.reduce is not a function","error":{"statusCode":500},"stack":"TypeError: transactionsInfo.reduce is not a function\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:217:40\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 7:56:55 PM | ERROR | errordate{"status":500,"message":"transactionsInfo.reduce is not a function","error":{"statusCode":500},"stack":"TypeError: transactionsInfo.reduce is not a function\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:217:40\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 7:58:38 PM | ERROR | errordate{"status":500,"message":"Unknown column 'totalprice' in 'field list'","error":{"name":"SequelizeDatabaseError","parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'totalprice' in 'field list'","sql":"SELECT sum(`paymentAmount`) AS `paymentAmount`, sum(`balanceDue`) AS `balanceDue`, sum(`price`) AS `price`, `totalprice` FROM `transactions` AS `transaction` WHERE `transaction`.`company_id` = 1 AND `transaction`.`createdAt` BETWEEN '2023-06-30 20:00:00' AND '2023-07-20 23:59:59';"},"original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'totalprice' in 'field list'","sql":"SELECT sum(`paymentAmount`) AS `paymentAmount`, sum(`balanceDue`) AS `balanceDue`, sum(`price`) AS `price`, `totalprice` FROM `transactions` AS `transaction` WHERE `transaction`.`company_id` = 1 AND `transaction`.`createdAt` BETWEEN '2023-06-30 20:00:00' AND '2023-07-20 23:59:59';"},"sql":"SELECT sum(`paymentAmount`) AS `paymentAmount`, sum(`balanceDue`) AS `balanceDue`, sum(`price`) AS `price`, `totalprice` FROM `transactions` AS `transaction` WHERE `transaction`.`company_id` = 1 AND `transaction`.`createdAt` BETWEEN '2023-06-30 20:00:00' AND '2023-07-20 23:59:59';","statusCode":500},"stack":"SequelizeDatabaseError: Unknown column 'totalprice' in 'field list'\n    at Query.formatError (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:265:16)\n    at Query.run (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:77:18)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\sequelize.js:619:16\n    at async MySQLQueryInterface.select (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:953:12)\n    at async Function.findAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1753:21)\n    at async Promise.all (index 1)\n    at async Function.findAndCountAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:2085:27)\n    at async D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:200:30"} |
7/19/2023, 7:59:06 PM | ERROR | errordate{"status":500,"message":"transactionsInfo.forEach is not a function","error":{"statusCode":500},"stack":"TypeError: transactionsInfo.forEach is not a function\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:219:18\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 8:03:56 PM | ERROR | errordate{"status":500,"message":"Cannot read properties of undefined (reading 'dataValues')","error":{"statusCode":500},"stack":"TypeError: Cannot read properties of undefined (reading 'dataValues')\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:218:57\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 8:05:09 PM | ERROR | errordate{"status":500,"message":"Cannot read properties of undefined (reading 'dataValues')","error":{"statusCode":500},"stack":"TypeError: Cannot read properties of undefined (reading 'dataValues')\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:218:52\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 8:11:15 PM | ERROR | errordate{"status":500,"message":"price is not defined","error":{"statusCode":500},"stack":"ReferenceError: price is not defined\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:259:141\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/19/2023, 8:18:59 PM | ERROR | errordate{"status":500,"message":"Cannot read properties of undefined (reading 'dataValues')","error":{"statusCode":500},"stack":"TypeError: Cannot read properties of undefined (reading 'dataValues')\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:218:57\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/20/2023, 11:11:06 AM | ERROR | errordate{"status":500,"message":"total_profite is not defined","error":{"statusCode":500},"stack":"ReferenceError: total_profite is not defined\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:263:104\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/20/2023, 5:30:30 PM | ERROR | errordate{"status":500,"message":"object is not iterable (cannot read property Symbol(Symbol.iterator))","error":{"statusCode":500},"stack":"TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\customers\\controller\\customer.controller.js:117:24\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\helpers\\catchSync.js:3:9\n    at Layer.handle [as handle_request] (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\common\\middleare\\isAuth.js:13:25\n    at Layer.handle [as handle_request] (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at Layer.handle [as handle_request] (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\router\\index.js:284:15"} |
7/20/2023, 5:45:38 PM | ERROR | errordate{"status":500,"message":"Cannot read properties of undefined (reading 'company_id')","error":{"statusCode":500},"stack":"TypeError: Cannot read properties of undefined (reading 'company_id')\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:262:35\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/20/2023, 6:44:18 PM | ERROR | errordate{"status":500,"message":"Unknown column 'deposit' in 'field list'","error":{"name":"SequelizeDatabaseError","parent":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'deposit' in 'field list'","sql":"SELECT sum(`deposit`) AS `totalDeposit` FROM `customers` AS `customer`;"},"original":{"code":"ER_BAD_FIELD_ERROR","errno":1054,"sqlState":"42S22","sqlMessage":"Unknown column 'deposit' in 'field list'","sql":"SELECT sum(`deposit`) AS `totalDeposit` FROM `customers` AS `customer`;"},"sql":"SELECT sum(`deposit`) AS `totalDeposit` FROM `customers` AS `customer`;","statusCode":500},"stack":"SequelizeDatabaseError: Unknown column 'deposit' in 'field list'\n    at Query.formatError (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:265:16)\n    at Query.run (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:77:18)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\sequelize.js:619:16\n    at async MySQLQueryInterface.select (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:953:12)\n    at async Function.findAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1753:21)\n    at async D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactions\\controller\\transaction.controller.js:263:32"} |
7/31/2023, 9:47:48 AM | ERROR | errordate{"status":500,"message":"WHERE parameter \"id\" has invalid \"undefined\" value","error":{"statusCode":500},"stack":"Error: WHERE parameter \"id\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2269:13)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2258:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2256:35)\n    at MySQLQueryGenerator.getWhereConditions (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2674:19)\n    at MySQLQueryGenerator.selectQuery (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1325:28)\n    at MySQLQueryInterface.select (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:954:27)\n    at Function.findAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1753:47)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async Function.findOne (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1917:12)"} |
7/31/2023, 9:52:53 AM | ERROR | errordate{"status":500,"message":"WHERE parameter \"id\" has invalid \"undefined\" value","error":{"statusCode":500},"stack":"Error: WHERE parameter \"id\" has invalid \"undefined\" value\n    at MySQLQueryGenerator.whereItemQuery (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2269:13)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2258:25\n    at Array.forEach (<anonymous>)\n    at MySQLQueryGenerator.whereItemsQuery (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2256:35)\n    at MySQLQueryGenerator.getWhereConditions (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:2674:19)\n    at MySQLQueryGenerator.selectQuery (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-generator.js:1325:28)\n    at MySQLQueryInterface.select (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:954:27)\n    at Function.findAll (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1753:47)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async Function.findOne (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\sequelize\\lib\\model.js:1917:12)"} |
7/31/2023, 7:03:24 PM | ERROR | errordate{"status":500,"message":"Cannot set headers after they are sent to the client","error":{"code":"ERR_HTTP_HEADERS_SENT","statusCode":500},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactionAccount\\controller\\transactionAccounts.controller.js:83:41\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/31/2023, 7:04:35 PM | ERROR | errordate{"status":500,"message":"Cannot set headers after they are sent to the client","error":{"code":"ERR_HTTP_HEADERS_SENT","statusCode":500},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactionAccount\\controller\\transactionAccounts.controller.js:83:41\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
7/31/2023, 7:07:25 PM | ERROR | errordate{"status":500,"message":"Cannot set headers after they are sent to the client","error":{"code":"ERR_HTTP_HEADERS_SENT","statusCode":500},"stack":"Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client\n    at new NodeError (node:internal/errors:371:5)\n    at ServerResponse.setHeader (node:_http_outgoing:576:11)\n    at ServerResponse.header (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:794:10)\n    at ServerResponse.send (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:174:12)\n    at ServerResponse.json (D:\\GitHub\\Alsham-Office-CRM-Backend\\node_modules\\express\\lib\\response.js:278:15)\n    at D:\\GitHub\\Alsham-Office-CRM-Backend\\modules\\transactionAccount\\controller\\transactionAccounts.controller.js:84:41\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"} |
